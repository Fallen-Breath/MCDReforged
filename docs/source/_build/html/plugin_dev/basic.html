

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>MCDR Plugin &mdash; MCDReforged 1.0.0 文档</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Plugin Event" href="event.html" />
    <link rel="prev" title="Plugin Development" href="plugin_dev.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> MCDReforged
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Home</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configure.html">Configure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../permission.html">Permission</a></li>
<li class="toctree-l1"><a class="reference internal" href="../command.html">Command</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="plugin_dev.html">Plugin Development</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Basic</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-is-a-mcdr-plugin">What is a MCDR plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quick-start">Quick Start</a></li>
<li class="toctree-l3"><a class="reference internal" href="#metadata">Metadata</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id">id</a></li>
<li class="toctree-l4"><a class="reference internal" href="#version">version</a></li>
<li class="toctree-l4"><a class="reference internal" href="#name">name</a></li>
<li class="toctree-l4"><a class="reference internal" href="#description">description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#author">author</a></li>
<li class="toctree-l4"><a class="reference internal" href="#link">link</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dependencies">dependencies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#plugin-registry">Plugin Registry</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#event-listeners">Event listeners</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command">Command</a></li>
<li class="toctree-l4"><a class="reference internal" href="#help-message">Help message</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="event.html">Plugin Event</a></li>
<li class="toctree-l2"><a class="reference internal" href="command.html">Command</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes/classes.html">Class References</a></li>
<li class="toctree-l2"><a class="reference internal" href="dev_tips.html">Some tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../customize/customize.html">Customize</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migrate_from_0.x.html">Migrate from MCDR 0.x</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MCDReforged</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="plugin_dev.html">Plugin Development</a> &raquo;</li>
        
      <li>MCDR Plugin</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/plugin_dev/basic.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mcdr-plugin">
<h1>MCDR Plugin<a class="headerlink" href="#mcdr-plugin" title="永久链接至标题">¶</a></h1>
<div class="section" id="what-is-a-mcdr-plugin">
<h2>What is a MCDR plugin<a class="headerlink" href="#what-is-a-mcdr-plugin" title="永久链接至标题">¶</a></h2>
<p>An MCDR plugin is a python source file with <code class="docutils literal notranslate"><span class="pre">.py</span></code> file extension located in plugin directories. The list of the plugin directory can is defined inside the <a class="reference external" href="configure.html#plugin_directories">configure file</a></p>
<p>At start up, MCDR will automatically load every plugin inside the plugin directories. Additionally, MCDR will append all the plugin directories into <code class="docutils literal notranslate"><span class="pre">sys.path</span></code>, so plugins can import modules placed inside the plugin folders directly</p>
<p>There is a sample plugin named <code class="docutils literal notranslate"><span class="pre">SamplePlugin.py</span></code> in the <code class="docutils literal notranslate"><span class="pre">plugins/</span></code> folder in source and you can check its content for reference</p>
</div>
<div class="section" id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="永久链接至标题">¶</a></h2>
<p>Open one of the plugin directories of MCDR, create a file named <code class="docutils literal notranslate"><span class="pre">HelloWorld.py</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> my_plugin_folder
touch HelloWorld.py
</pre></div>
</div>
<p>open it and enter these code</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">PLUGIN_METADATA</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;hello_world&#39;</span><span class="p">,</span>
    <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="s1">&#39;1.0.0&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;My Hello World Plugin&#39;</span>
<span class="p">}</span>


<span class="k">def</span> <span class="nf">on_load</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">old</span><span class="p">):</span>
    <span class="n">server</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Hello world!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Return to MCDR console, enter <code class="docutils literal notranslate"><span class="pre">!!MCDR</span> <span class="pre">reload</span> <span class="pre">plugin</span></code>, and you should see the hello world message from your plugin</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[TaskExecutor/INFO] [My Hello World Plugin]: Hello world!
</pre></div>
</div>
<p>Great, you have successfully created your first plugin</p>
</div>
<div class="section" id="metadata">
<h2>Metadata<a class="headerlink" href="#metadata" title="永久链接至标题">¶</a></h2>
<p>The meta data field provides the basic information of the plugin. As you can see in the <a class="reference external" href="#quick-start">Quick Start</a> section above, meta data is declared in the global scope. It’s a dict contains several key-value with the name <code class="docutils literal notranslate"><span class="pre">PLUGIN_METADATA</span></code></p>
<p>Here’s a metadata field with all possible key-values</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">PLUGIN_METADATA</span> <span class="o">=</span> <span class="p">{</span>
	<span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;my_plugin_id&#39;</span><span class="p">,</span>
	<span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="s1">&#39;1.0.0&#39;</span><span class="p">,</span>
	<span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;My Plugin&#39;</span><span class="p">,</span>  <span class="c1"># RText component is allowed</span>
	<span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;A plugin to do something cool&#39;</span><span class="p">,</span>  <span class="c1"># RText component is allowed</span>
	<span class="s1">&#39;author&#39;</span><span class="p">:</span> <span class="s1">&#39;myself&#39;</span><span class="p">,</span>
	<span class="s1">&#39;link&#39;</span><span class="p">:</span> <span class="s1">&#39;https://github.com&#39;</span><span class="p">,</span>
	<span class="s1">&#39;dependencies&#39;</span><span class="p">:</span> <span class="p">{</span>
		<span class="s1">&#39;mcdreforged&#39;</span><span class="p">:</span> <span class="s1">&#39;>=1.0.0&#39;</span><span class="p">,</span>
		<span class="s1">&#39;an_important_api&#39;</span><span class="p">:</span> <span class="s1">&#39;*&#39;</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If a plugin doesn’t not declare the meta data field, a warning will arise in the console and the fallback values will be used</p>
<div class="section" id="id">
<h3>id<a class="headerlink" href="#id" title="永久链接至标题">¶</a></h3>
<p>Id, or plugin id, is the identity string of your plugin. It should consist of lowercase letters, numbers and underscores with a length of 1 to 64</p>
<p>Here’s some available plugin ids:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">my_plugin</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">anotherhelper123</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__a_cool_plugin__</span></code></p></li>
</ul>
<p>But the following ids are not allowed:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MyPlugin</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">another-helper-123</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">cool</span> <span class="pre">plugin</span></code></p></li>
</ul>
<p>MCDR uses plugin id to distinguish between different plugins and check the dependencies. All loaded plugin in MCDR contain different plugin ids. If a newly loaded plugin has a plugin id exactly the same with an existed plugin, the new plugin will fail to load</p>
<p>Choose your plugin id wisely. It’s highly suggested to keep your plugin id not changed after release your plugin</p>
<ul class="simple">
<li><p>Field key: <code class="docutils literal notranslate"><span class="pre">id</span></code></p></li>
<li><p>Value type: str</p></li>
<li><p>Fallback value: the file name without the <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension</p></li>
</ul>
</div>
<div class="section" id="version">
<h3>version<a class="headerlink" href="#version" title="永久链接至标题">¶</a></h3>
<p>The version value indicates the version of your value. It’s mostly in <a class="reference external" href="https://semver.org/">semver</a> format but it has less restriction such as you can have the core version with any length</p>
<p>Here’s some available version:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">1.0.0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2.0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1.2.3-pre4</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1.8.9-rc.8</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1.14.1-beta.4+build.54</span></code></p></li>
</ul>
<p>Following <a class="reference external" href="https://semver.org/">semver</a> format for you version string is a good idea. It’s easier to maintain and for people to understand</p>
<ul class="simple">
<li><p>Field key: <code class="docutils literal notranslate"><span class="pre">version</span></code></p></li>
<li><p>Value type: str</p></li>
<li><p>Fallback value: <code class="docutils literal notranslate"><span class="pre">0.0.0</span></code></p></li>
</ul>
</div>
<div class="section" id="name">
<h3>name<a class="headerlink" href="#name" title="永久链接至标题">¶</a></h3>
<p>The name of your plugin. Give your plugin with a nice name with any kinds of characters. RText is allowed here</p>
<p>Try not to make the name too long. For more details of your plugin, you can put them into the <code class="docutils literal notranslate"><span class="pre">description</span></code></p>
<ul class="simple">
<li><p>Field key: <code class="docutils literal notranslate"><span class="pre">name</span></code></p></li>
<li><p>Value type: str or RTextBase</p></li>
<li><p>Fallback value: The plugin id</p></li>
</ul>
</div>
<div class="section" id="description">
<h3>description<a class="headerlink" href="#description" title="永久链接至标题">¶</a></h3>
<p>The description of you plugin. Put the details of your plugin here. Rtext is allowed too</p>
<p>This field is optional, you can just ignore it if you are lazy</p>
<ul class="simple">
<li><p>Field key: <code class="docutils literal notranslate"><span class="pre">description</span></code></p></li>
<li><p>Value type: str or RTextBase</p></li>
<li><p>Fallback value: None</p></li>
</ul>
</div>
<div class="section" id="author">
<h3>author<a class="headerlink" href="#author" title="永久链接至标题">¶</a></h3>
<p>The authors of the plugins. If there’s only a single author, you can also use a string instead of a list of string</p>
<p>This field is optional, you can just ignore it if you are lazy</p>
<ul class="simple">
<li><p>Field key: <code class="docutils literal notranslate"><span class="pre">author</span></code></p></li>
<li><p>Value type: str or List[str]</p></li>
<li><p>Fallback value: None</p></li>
</ul>
</div>
<div class="section" id="link">
<h3>link<a class="headerlink" href="#link" title="永久链接至标题">¶</a></h3>
<p>The link of your project. You can put a link to the github repository of your plugin here. It should be an available url</p>
<p>This field is optional, you can just ignore it if you are lazy</p>
<ul class="simple">
<li><p>Field key: <code class="docutils literal notranslate"><span class="pre">link</span></code></p></li>
<li><p>Value type: str</p></li>
<li><p>Fallback value: None</p></li>
</ul>
</div>
<div class="section" id="dependencies">
<h3>dependencies<a class="headerlink" href="#dependencies" title="永久链接至标题">¶</a></h3>
<p>A dict of dependencies you plugin relies on. It’s a dict contains several key-value pairs. The key is the id of the plugin that your plugin is relies on, and the value is the version requirement of the plugin that your plugin is relies on</p>
<p>If your plugin has requirement to the version of MCDR, use <code class="docutils literal notranslate"><span class="pre">mcdreforged</span></code> as the plugin id</p>
<p>A version requirement is a string than contains several criterions of the version. Criterions are divided by space character, each criterion is made up of an operator and a base version string. Wildcard is allowed when describing the base version</p>
<p>List of the operators:</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Operator</th>
<th>Example</th>
<th>Explanation for the example</th>
<th>Accepted</th>
<th>Unaccepted</th>
</tr>
</thead>
<tbody>
<tr>
<td>>=</td>
<td>>=1.2.3</td>
<td>The target version should be equal to or newer than 1.2.3</td>
<td>1.2.3, 1.3.0</td>
<td>1.2.0</td>
</tr>
<tr>
<td>></td>
<td>>1.2.3</td>
<td>The target version should be newer than 1.2.3</td>
<td>1.2.4, 1.3.0</td>
<td>1.2.0, 1.2.3</td>
</tr>
<tr>
<td>&lt;=</td>
<td>&lt;=1.2.3</td>
<td>The target version should be equal to or older than 1.2.3</td>
<td>1.2.3, 1.1.0</td>
<td>1.2.4, 2.0.0</td>
</tr>
<tr>
<td>&lt;</td>
<td>&lt;1.2.3</td>
<td>The target version should be older than 1.2.3</td>
<td>1.1.0</td>
<td>1.2.3, 1.5</td>
</tr>
<tr>
<td>=</td>
<td>=1.2.3</td>
<td>The target version should equal to 1.2.3</td>
<td>1.2.3</td>
<td>1.2, 1.2.4</td>
</tr>
<tr>
<td></td>
<td>1.2.3</td>
<td>If the operator is not specified, <code>=</code> is used as default. In this case the target version should equal to 1.2.3</td>
<td>1.2.3</td>
<td>1.2, 1.2.4</td>
</tr>
<tr>
<td>^</td>
<td>^1.2.3</td>
<td>The target version should be equal to or newer than 1.2.3, and the first version segment of the target version should be equal to the base version</td>
<td>1.2.3, 1.2.4, 1.4.4</td>
<td>1.0.0, 2.0.0</td>
</tr>
<tr>
<td>~</td>
<td>~1.2.3</td>
<td>The target version should be equal to or newer than 1.2.3, and the first and the second version segment of the target version should be equal to the base version</td>
<td>1.2.3, 1.2.4</td>
<td>1.0.0, 1.4.4, 2.0.0</td>
</tr>
</tbody>
</table><p>Check <a class="reference external" href="https://docs.npmjs.com/about-semantic-versioning">here</a> for more detail to the version requirement</p>
<p>If there are multiple declared criterions, the target version is accepted only when it’s accepted by all criterions</p>
<p>Here a dependencies example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;dependencies&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;mcdreforged&#39;</span><span class="p">:</span> <span class="s1">&#39;>=1.0.0 &lt;2.0&#39;</span><span class="p">,</span>
    <span class="s1">&#39;my_library&#39;</span><span class="p">:</span> <span class="s1">&#39;>=1.0.0&#39;</span><span class="p">,</span>
    <span class="s1">&#39;an_important_api&#39;</span><span class="p">:</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span>
    <span class="s1">&#39;another_api&#39;</span><span class="p">:</span> <span class="s1">&#39;1.0.*&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>MCDR will make sure only when all dependency requirements are satisfied your plugin will get loaded successfully. Missing dependency, dependency version not match or dependency loop will result in a dependency check failure</p>
<p>This field is optional, you can just ignore it if your plugin doesn’t have any dependency</p>
<ul class="simple">
<li><p>Field key: <code class="docutils literal notranslate"><span class="pre">dependencies</span></code></p></li>
<li><p>Value type: Dict[str, str]</p></li>
<li><p>Fallback value: None</p></li>
</ul>
</div>
</div>
<div class="section" id="plugin-registry">
<h2>Plugin Registry<a class="headerlink" href="#plugin-registry" title="永久链接至标题">¶</a></h2>
<p>Plugin registry is a collection of things that plugin registered for. It will get cleaned up every time before the plugin gets loaded, so you’d better register them in <a class="reference external" href="event.html#plugin-load">Plugin Load</a> event</p>
<div class="section" id="event-listeners">
<h3>Event listeners<a class="headerlink" href="#event-listeners" title="永久链接至标题">¶</a></h3>
<p>There are 2 methods to register an event listener for you plugin</p>
<ol>
<li><p>Declare a function inside the global slope with the specific name. It’s the legacy registering method to register a listener and it only works with events provided by MCDR. Check <a class="reference external" href="event.html#default-event-listener">here</a> for more detail</p>
<p>For example, the widely-used function below is a default <a class="reference external" href="event.html#plugin-loaded">Plugin Loaded</a> event listener</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_load</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">prev</span><span class="p">):</span>
    <span class="n">do_something</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p>Manually invoke <code class="docutils literal notranslate"><span class="pre">server.register_event_listener</span></code> method to register an event listener. You can specify the callable object and the priority for the event listener</p>
<p>Check <a class="reference external" href="event.html#register-a-event-listener">here</a> for more detail about event listener registering</p>
<p>Here some examples about manually register event listeners</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_on_mcdr_general_info</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">info</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">on_my_task_done</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">my_task_info</span><span class="p">,</span> <span class="n">my_task_data</span><span class="p">):</span>  <span class="c1"># the 2nd and 3rd parameter is determined by the plugin that emits this event</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">on_load</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">prev</span><span class="p">):</span>
    <span class="n">server</span><span class="o">.</span><span class="n">register_event_listener</span><span class="p">(</span><span class="s1">&#39;mcdr.general_info&#39;</span><span class="p">,</span> <span class="n">my_on_mcdr_general_info</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>  <span class="c1"># TODO: use better event identifier</span>
    <span class="n">server</span><span class="o">.</span><span class="n">register_event_listener</span><span class="p">(</span><span class="s1">&#39;myplugin.task_done&#39;</span><span class="p">,</span> <span class="n">on_my_task_done</span><span class="p">)</span>  <span class="c1"># TODO: use better event identifier</span>
</pre></div>
</div>
<p>Take a look at the reference of <code class="docutils literal notranslate"><span class="pre">register_event_listener</span></code> method in <a class="reference external" href="classes/ServerInterface.html#register-event-listener">ServerInterface</a> document for more detail</p>
</li>
</ol>
</div>
<div class="section" id="command">
<h3>Command<a class="headerlink" href="#command" title="永久链接至标题">¶</a></h3>
<p>Rather than manually parsing <code class="docutils literal notranslate"><span class="pre">info.content</span></code> inside user info event callback like <code class="docutils literal notranslate"><span class="pre">on_user_info</span></code>, MCDR provides a command system for plugins to register their commands</p>
<p>Check the <a class="reference internal" href="command.html"><span class="doc">command</span></a> document for more detail about building a command tree</p>
<p>Assuming that you have already built a command tree with root literal node <em>root</em>, then you can use the following command to register your command tree in MCDR</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">server</span><span class="o">.</span><span class="n">register_command</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
</pre></div>
</div>
<p>Take a look at the reference of <code class="docutils literal notranslate"><span class="pre">register_command</span></code> method in <a class="reference external" href="classes/ServerInterface.html#register-command">ServerInterface</a> document for more details of its usage</p>
</div>
<div class="section" id="help-message">
<h3>Help message<a class="headerlink" href="#help-message" title="永久链接至标题">¶</a></h3>
<p>Plugin can register its help message with <code class="docutils literal notranslate"><span class="pre">server.register_help_message</span></code> to MCDR, so that users can use <a class="reference external" href="../command.html#help-command"><code class="docutils literal notranslate"><span class="pre">!!help</span></code> command</a> to view the help messages of all commands</p>
<p>Take a look at the reference of <code class="docutils literal notranslate"><span class="pre">register_help_message</span></code> method in <a class="reference external" href="classes/ServerInterface.html#register-help-message">ServerInterface</a> document for more details of its usage</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="event.html" class="btn btn-neutral float-right" title="Plugin Event" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="plugin_dev.html" class="btn btn-neutral float-left" title="Plugin Development" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; 版权所有 2021, Fallen_Breath.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>